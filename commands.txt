# Проверка системы

lsb_release -a

# Проверка разделов диска:

fdisk -l
fd -h

# Проверка обновлений пакетов:

apt update -y


# Проверить членство в группах

id -Gn

# Проверка всех установленных пакетов:

apt list --installed
dpkg --get-selections | grep -iE  "Docker|Vagrant|Traefik"

dpkg --get-selections | grep -v deinstall

# Создание юзера и добавление его в судо:

adduser $user sudo
su - $user

useradd -m -d /home/$user -s /bin/bash $user

# Генерация ключа ssh и добавление его на ВМ:

ssh-keygen -t rsa
ssh-copy-id -i ~/.ssh/id_rsa.pub pthuy@192.168.56.5 -p 2222

# Команда для вывода всех активных сервисов:

service --status-all

# Команда для вывода всех правил брендмауэра:

iptables -L

# Команда для проверки портов:

lsof -i
netstat -tulpn

# Команда для вывода всех действительных пользователей:

cat /etc/passwd | grep home | awk -F: '{print $1}'



Установка машины и правильные размеры дисок - ОК
Создан обычный юзер и сделан сударем - ОК
Настроена статическая сеть с маской 30 - ОК
Изменен дефолтный порт SSH, доступ руту запрещен и доступ по ключам активирован - ОК
Правила фаервола (UFW) - ОК
Защита от DOS - НО
Неиспользуемые службы остановлены - НО
Скрипт на обновление - ОК
Скрипт на проверку крона - Проверь
Сертификат прицеплен к файлу - ОК
Автоматическое развертывание - ОК